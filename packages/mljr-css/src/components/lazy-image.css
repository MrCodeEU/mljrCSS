/* ============================================
   LazyImage - Intersection-observer lazy loading
   ============================================ */

.mljr-lazy-img {
  position: relative;
  overflow: hidden;
  display: block;
  background-color: var(--mljr-surface-2);
  border-radius: var(--mljr-radius-sm);
}

/* Shimmer skeleton shown before image enters viewport */
.mljr-lazy-img-skeleton {
  width: 100%;
  min-height: 120px;
  background: linear-gradient(
    90deg,
    var(--mljr-surface-2) 25%,
    var(--mljr-surface-3, color-mix(in srgb, var(--mljr-surface-2) 60%, white)) 50%,
    var(--mljr-surface-2) 75%
  );
  background-size: 200% 100%;
  animation: mljr-lazy-shimmer 1.5s infinite;
}

@keyframes mljr-lazy-shimmer {
  0%   { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* Blurred low-res placeholder */
.mljr-lazy-img-placeholder {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  filter: blur(8px);
  transform: scale(1.05);
}

/* Real image â€” fades in once loaded */
.mljr-lazy-img-actual {
  display: block;
  width: 100%;
  height: auto;
  opacity: 0;
  transition: opacity 500ms ease-out;
}

.mljr-lazy-img-actual.mljr-lazy-img-loaded {
  opacity: 1;
}

/* Aspect ratio helpers */
.mljr-lazy-img-16-9  { aspect-ratio: 16 / 9; }
.mljr-lazy-img-4-3   { aspect-ratio: 4 / 3; }
.mljr-lazy-img-1-1   { aspect-ratio: 1; }
.mljr-lazy-img-cover { object-fit: cover; width: 100%; height: 100%; }
